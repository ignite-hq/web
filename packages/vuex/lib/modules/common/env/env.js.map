{"version":3,"sources":["../../../../src/modules/common/env/env.js"],"names":["GITPOD","process","env","VUE_APP_CUSTOM_URL","URL","apiNode","protocol","hostname","VUE_APP_API_COSMOS","replace","rpcNode","VUE_APP_API_TENDERMINT","addrPrefix","VUE_APP_ADDRESS_PREFIX","wsNode","VUE_APP_WS_TENDERMINT","namespaced","state","chainId","sdkVersion","client","chainName","apiConnected","rpcConnected","wsConnected","getTXApi","initialized","getters","signingClient","apiTendermint","apiCosmos","apiWS","mutations","SET_CONFIG","config","CONNECT","INITIALIZE_WS_COMPLETE","SET_CHAIN_ID","SET_CHAIN_NAME","SET_WS_STATUS","status","SET_API_STATUS","SET_RPC_STATUS","SET_TX_API","txapi","actions","init","dispatch","starportUrl","_actions","root","SpVuexError","console","log","setTxAPI","payload","commit","setConnectivity","connection","signIn","signer","useSigner","Client","apiAddr","rpcAddr","wsAddr","setMaxListeners","on","id","name","options","subscribe","all","params","query","reconnectWS","reconnectSigningClient","reconnectClient","switchWS","switchAPI","switchRPC","error"],"mappings":"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","sourcesContent":["import Client from '@starport/client-js'\nimport SpVuexError from '../../../errors/SpVuexError'\n\nconst GITPOD =\n\tprocess.env.VUE_APP_CUSTOM_URL && new URL(process.env.VUE_APP_CUSTOM_URL)\nconst apiNode =\n\t(GITPOD && `${GITPOD.protocol}//1317-${GITPOD.hostname}`) ||\n\t(process.env.VUE_APP_API_COSMOS &&\n\t\tprocess.env.VUE_APP_API_COSMOS.replace('0.0.0.0', 'localhost')) ||\n\t'http://localhost:1317'\nconst rpcNode =\n\t(GITPOD && `${GITPOD.protocol}//26657-${GITPOD.hostname}`) ||\n\t(process.env.VUE_APP_API_TENDERMINT &&\n\t\tprocess.env.VUE_APP_API_TENDERMINT.replace('0.0.0.0', 'localhost')) ||\n\t'http://localhost:26657'\nconst addrPrefix = process.env.VUE_APP_ADDRESS_PREFIX || 'cosmos'\nconst wsNode =\n\t(GITPOD && `wss://26657-${GITPOD.hostname}/websocket`) ||\n\t(process.env.VUE_APP_WS_TENDERMINT &&\n\t\tprocess.env.VUE_APP_WS_TENDERMINT.replace('0.0.0.0', 'localhost')) ||\n\t'ws://localhost:26657/websocket'\n\nexport default {\n\tnamespaced: true,\n\tstate() {\n\t\treturn {\n\t\t\tchainId: null,\n\t\t\taddrPrefix: addrPrefix,\n\t\t\tsdkVersion: 'Stargate',\n\t\t\tapiNode: apiNode,\n\t\t\trpcNode: rpcNode,\n\t\t\twsNode: wsNode,\n\t\t\tclient: null,\n\t\t\tchainName: null,\n\t\t\tapiConnected: false,\n\t\t\trpcConnected: false,\n\t\t\twsConnected: false,\n\t\t\tgetTXApi: '',\n\t\t\tinitialized: false\n\t\t}\n\t},\n\tgetters: {\n\t\tclient: (state) => state.client,\n\t\tsigningClient: (state) => state.client.signingClient,\n\t\tchainId: (state) => state.chainId,\n\t\tchainName: (state) => state.chainName,\n\t\taddrPrefix: (state) => state.addrPrefix,\n\t\tapiTendermint: (state) => state.rpcNode,\n\t\tapiCosmos: (state) => state.apiNode,\n\t\tapiWS: (state) => state.wsNode,\n\t\tsdkVersion: (state) => state.sdkVersion,\n\t\tapiConnected: (state) => state.apiConnected,\n\t\trpcConnected: (state) => state.rpcConnected,\n\t\twsConnected: (state) => state.wsConnected\n\t},\n\tmutations: {\n\t\tSET_CONFIG(state, config) {\n\t\t\tstate.apiNode = config.apiNode\n\t\t\tif (config.rpcNode) {\n\t\t\t\tstate.rpcNode = config.rpcNode\n\t\t\t}\n\t\t\tif (config.wsNode) {\n\t\t\t\tstate.wsNode = config.wsNode\n\t\t\t}\n\t\t\tif (config.chainId) {\n\t\t\t\tstate.chainId = config.chainId\n\t\t\t}\n\t\t\tif (config.addrPrefix) {\n\t\t\t\tstate.addrPrefix = config.addrPrefix\n\t\t\t}\n\t\t\tif (config.sdkVersion) {\n\t\t\t\tstate.sdkVersion = config.sdkVersion\n\t\t\t}\n\t\t\tif (config.getTXApi) {\n\t\t\t\tstate.getTXApi = config.getTXApi\n\t\t\t}\n\t\t},\n\t\tCONNECT(state, { client }) {\n\t\t\tstate.client = client\n\t\t},\n\t\tINITIALIZE_WS_COMPLETE(state) {\n\t\t\tstate.initialized = true\n\t\t},\n\t\tSET_CHAIN_ID(state, chainId) {\n\t\t\tstate.chainId = chainId\n\t\t},\n\t\tSET_CHAIN_NAME(state, chainName) {\n\t\t\tstate.chainName = chainName\n\t\t},\n\t\tSET_WS_STATUS(state, status) {\n\t\t\tstate.wsConnected = status\n\t\t},\n\t\tSET_API_STATUS(state, status) {\n\t\t\tstate.apiConnected = status\n\t\t},\n\t\tSET_RPC_STATUS(state, status) {\n\t\t\tstate.rpcConnected = status\n\t\t},\n\t\tSET_TX_API(state, txapi) {\n\t\t\tstate.getTXApi = txapi\n\t\t}\n\t},\n\tactions: {\n\t\tasync init(\n\t\t\t{ dispatch },\n\t\t\tconfig = {\n\t\t\t\tstarportUrl: 'http://localhost:12345',\n\t\t\t\tapiNode: apiNode,\n\t\t\t\trpcNode: rpcNode,\n\t\t\t\twsNode: wsNode,\n\t\t\t\tchainId: '',\n\t\t\t\taddrPrefix: addrPrefix,\n\t\t\t\tchainName: '',\n\t\t\t\tsdkVersion: 'Stargate',\n\t\t\t\tgetTXApi: rpcNode + '/tx?hash=0x'\n\t\t\t}\n\t\t) {\n\t\t\tif (this._actions['common/starport/init']) {\n\t\t\t\ttry {\n\t\t\t\t\tawait dispatch('common/starport/init', null, { root: true })\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new SpVuexError(\n\t\t\t\t\t\t'Env:Init:Starport',\n\t\t\t\t\t\t'Could not initialize common/starport module'\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tawait dispatch('config', config)\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new SpVuexError('Env:Config', 'Could not configure environment')\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log('Vuex nodule: common.env initialized!')\n\t\t},\n\t\tsetTxAPI({ commit }, payload) {\n\t\t\tcommit('SET_TX_API', payload)\n\t\t},\n\t\tasync setConnectivity({ commit }, payload) {\n\t\t\tswitch (payload.connection) {\n\t\t\t\tcase 'ws':\n\t\t\t\t\tcommit('SET_WS_STATUS', payload.status)\n\t\t\t\t\tbreak\n\t\t\t\tcase 'api':\n\t\t\t\t\tcommit('SET_API_STATUS', payload.status)\n\t\t\t\t\tbreak\n\t\t\t\tcase 'rpc':\n\t\t\t\t\tcommit('SET_RPC_STATUS', payload.status)\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tasync signIn({ state }, signer) {\n\t\t\ttry {\n\t\t\t\tawait state.client.useSigner(signer)\n\t\t\t} catch (e) {\n\t\t\t\tthrow new SpVuexError(\n\t\t\t\t\t'Env:Client:Wallet',\n\t\t\t\t\t'Could not create signing client with signer: ' + signer\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\t\tasync config(\n\t\t\t{ commit, state, dispatch },\n\t\t\tconfig = {\n\t\t\t\tapiNode: 'http://localhost:1317',\n\t\t\t\trpcNode: 'http://localhost:26657',\n\t\t\t\twsNode: 'ws://localhost:26657/websocket',\n\t\t\t\tchainName: '',\n\t\t\t\tchainId: '',\n\t\t\t\taddrPrefix: '',\n\t\t\t\tsdkVersion: 'Stargate',\n\t\t\t\tgetTXApi: 'http://localhost:26657/tx?hash=0x'\n\t\t\t}\n\t\t) {\n\t\t\ttry {\n\t\t\t\tlet client\n\t\t\t\tif (!state.client) {\n\t\t\t\t\tclient = new Client({\n\t\t\t\t\t\tapiAddr: config.apiNode,\n\t\t\t\t\t\trpcAddr: config.rpcNode,\n\t\t\t\t\t\twsAddr: config.wsNode\n\t\t\t\t\t})\n\t\t\t\t\tclient.setMaxListeners(0)\n\t\t\t\t\tclient.on('chain-id', (id) => {\n\t\t\t\t\t\tcommit('SET_CHAIN_ID', id)\n\t\t\t\t\t})\n\t\t\t\t\tclient.on('chain-name', (name) => {\n\t\t\t\t\t\tcommit('SET_CHAIN_NAME', name)\n\t\t\t\t\t})\n\t\t\t\t\tclient.on('ws-status', (status) =>\n\t\t\t\t\t\tdispatch('setConnectivity', { connection: 'ws', status: status })\n\t\t\t\t\t)\n\t\t\t\t\tclient.on('api-status', (status) =>\n\t\t\t\t\t\tdispatch('setConnectivity', { connection: 'api', status: status })\n\t\t\t\t\t)\n\t\t\t\t\tclient.on('rpc-status', (status) =>\n\t\t\t\t\t\tdispatch('setConnectivity', { connection: 'rpc', status: status })\n\t\t\t\t\t)\n\t\t\t\t\tcommit('SET_CONFIG', config)\n\t\t\t\t\tawait dispatch(\n\t\t\t\t\t\t'cosmos.staking.v1beta1/QueryParams',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toptions: { subscribe: false, all: false },\n\t\t\t\t\t\t\tparams: {},\n\t\t\t\t\t\t\tquery: null\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ root: true }\n\t\t\t\t\t)\n\t\t\t\t\tawait dispatch(\n\t\t\t\t\t\t'cosmos.bank.v1beta1/QueryTotalSupply',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toptions: { subscribe: false, all: false },\n\t\t\t\t\t\t\tparams: {},\n\t\t\t\t\t\t\tquery: null\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ root: true }\n\t\t\t\t\t)\n\t\t\t\t\tcommit('CONNECT', { client })\n\t\t\t\t\tcommit('INITIALIZE_WS_COMPLETE')\n\t\t\t\t} else {\n\t\t\t\t\tclient = state.client\n\t\t\t\t\tlet reconnectWS = false\n\t\t\t\t\tlet reconnectSigningClient = false\n\t\t\t\t\tlet reconnectClient = false\n\t\t\t\t\tif (config.wsNode != state.wsNode) {\n\t\t\t\t\t\treconnectWS = true\n\t\t\t\t\t}\n\t\t\t\t\tif (config.rpcNode != state.rpcNode) {\n\t\t\t\t\t\treconnectSigningClient = true\n\t\t\t\t\t}\n\t\t\t\t\tif (config.apiNode != state.apiNode) {\n\t\t\t\t\t\treconnectClient = true\n\t\t\t\t\t}\n\t\t\t\t\tcommit('SET_CONFIG', config)\n\n\t\t\t\t\tif (reconnectWS && config.wsNode) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait client.switchWS(config.wsNode)\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthrow new SpVuexError(\n\t\t\t\t\t\t\t\t'Env:Client:Websocket',\n\t\t\t\t\t\t\t\t'Could not switch to websocket node:' + config.wsNode\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (reconnectClient && config.apiNode) {\n\t\t\t\t\t\tclient.switchAPI(config.apiNode)\n\t\t\t\t\t}\n\t\t\t\t\tif (reconnectSigningClient && config.rpcNode) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait client.switchRPC(config.rpcNode)\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tthrow new SpVuexError(\n\t\t\t\t\t\t\t\t'Env:Client:TendermintRPC',\n\t\t\t\t\t\t\t\t'Could not switch to Tendermint RPC node:' + config.rpcNode\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e)\n\t\t\t}\n\t\t}\n\t}\n}\n"],"file":"env.js"}